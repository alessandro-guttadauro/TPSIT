const L1 = 0;
const L2 = 1;
const mediaRange = (L2 - L1) / 2;

const ArrayNumeriCasuali = [];
const ArrayRapporti = [];
const DistanzeDallaMedia = [];

function generaNumeroCasuale() {
  const numero = Math.random() * (L2 - L1) + L1; // float tra 0 e 1
  ArrayNumeriCasuali.push(numero);

  // Calcola rapporto con il numero precedente, se esiste
  if (ArrayNumeriCasuali.length > 1) {
    const n = numero / ArrayNumeriCasuali[ArrayNumeriCasuali.length - 2];
    ArrayRapporti.push(n);
  }

  // Calcola distanza dalla media del range
  const distanza = Math.abs(numero - mediaRange);
  DistanzeDallaMedia.push(distanza);

  // Calcola la media ogni 50 numeri
  if (ArrayNumeriCasuali.length % 50 === 0) {
    const ultimi50 = ArrayNumeriCasuali.slice(-50);
    const media50 = ultimi50.reduce((a, b) => a + b, 0) / 50;
    console.log(`Media ultimi 50 numeri: ${media50.toFixed(4)}`);
  }

  // Output per debug
  console.log(`Numero: ${numero.toFixed(4)}, Distanza dalla media: ${distanza.toFixed(4)}`);
}

// Avvia la generazione ogni 500ms
setInterval(generaNumeroCasuale, 500);
